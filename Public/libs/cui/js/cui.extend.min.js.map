{"version":3,"sources":["cui.extend.js"],"names":["$","UTCDate","Date","UTC","apply","arguments","Array","prototype","indexOf","find","i","undefined","this","length","n","Datetimepicker","element","options","that","container","language","data","dates","split","isRTL","rtl","formatType","format","DPGlobal","parseFormat","getDefaultFormat","isInline","isVisible","isInput","is","fontAwesome","bootcssVer","component","parent","componentReset","hasInput","linkField","linkFormat","minuteStep","pickerPosition","showMeridian","initialDate","zIndex","icons","leftArrow","rightArrow","icontype","_attachEvents","clickedOutside","e","target","closest","hide","formatViewType","minView","convertViewMode","maxView","modes","wheelViewModeNavigation","wheelViewModeNavigationInverseDirection","wheelViewModeNavigationDelay","startViewMode","startView","viewMode","viewSelect","forceParse","template","templateV3","replace","picker","appendTo","on","click","proxy","mousedown","fn","mousewheel","console","log","addClass","selector","toggleClass","document","autoclose","keyboardNavigation","todayBtn","todayHighlight","weekStart","weekEnd","startDate","Infinity","endDate","daysOfWeekDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","setMinutesDisabled","minutesDisabled","setHoursDisabled","hoursDisabled","fillDow","fillMonths","update","showMode","show","constructor","_events","_detachEvents","focus","keyup","keydown","push","reset","el","ev","off","height","outerHeight","place","window","stopPropagation","preventDefault","trigger","type","date","val","setValue","remove","datetimepicker","getDate","d","getUTCDate","getTime","getTimezoneOffset","setDate","setUTCDate","viewDate","fill","setFormat","formatted","getFormattedDate","formatDate","parseDate","updateNavArrows","isArray","map","parseInt","index_highest","each","index_current","css","offset","top","left","containerOffset","outerWidth","bodyWidth","body","clientWidth","innerWidth","fromArgs","String","dowCnt","html","daysMin","append","monthsShort","year","getUTCFullYear","month","getUTCMonth","dayMonth","hours","getUTCHours","minutes","getUTCMinutes","startYear","startMonth","endYear","endMonth","currentDate","valueOf","today","text","months","toggle","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","getFullYear","getMonth","inArray","empty","join","txt","meridian","meridianOld","actual","meridiem","toUpperCase","Math","floor","currentYear","end","removeClass","eq","slice","yearCont","hour","visibility","wheelPause","originalEvent","delta","wheelDelta","mode","setTimeout","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","convertViewModeText","getHours","getMinutes","getSeconds","_setDate","seconds","getUTCSeconds","index","setUTCMonth","setUTCFullYear","hasClass","setUTCHours","substr","setUTCMinutes","oldViewMode","which","change","moveMinute","new_date","new_month","test","mag","abs","dateWithinRange","keyCode","newDate","newViewDate","dateChanged","ctrlKey","shiftKey","newViewMode","max","min","filter","old","option","args","shift","internal_return","$this","extend","defaults","Constructor","en","days","daysShort","suffix","navFnc","isLeapYear","field","Error","validParts","nonpunctuation","separators","parts","match","dateUTC","setMilliseconds","part","part_re","exec","call","filtered","toString","parsed","setters_order","setters_map","hh","v","h","HH","H","ii","ss","setUTCSeconds","s","yyyy","yy","m","isNaN","p","cnt","substring","M","MM","D","DD","P","dd","mm","y","Y","F","t","j","l","w","N","S","a","g","G","A","seps","headTemplate","headTemplateV3","contTemplate","footTemplate","noConflict","jQuery","dragsort","opts","lists","list","lastPos","cont","children","size","get","newList","draggedItem","placeHolderItem","pos","offsetLimit","scroll","init","tagName","itemSelector","dragSelector","placeHolderTemplate","attr","grabItem","bind","uninit","styleDragHandlers","unbind","getItems","cursor","item","insideMoveableItem","dragSelectorExclude","dragHandle","parentNode","listElem","dragStart","mousemove","mouseup","dropItem","mt","ml","pageY","pageX","dragBetween","containerHeight","round","right","bottom","width","clone","after","borderWidth","next","listTable","id","orig","position","opacity","z-index","moveX","moveY","maxX","maxY","scrollY","setInterval","scrollContainer","scrollTop","scrollX","scrollLeft","createDropTargets","buildPositionTable","setPos","swapItems","wheel","x","offsetParent","not","scrollSpeed","browser","safari","mozilla","detail","loc","elm","removeAttr","before","clearInterval","dragEnd","nextItem","prepend","ei","findPos","nlist","fixed","idx","insertAfter","insertBefore","ph","dt","Huploadify","itemTemp","fileTypeExts","uploader","auto","method","multi","formData","fileObjName","fileSizeLimit","showUploadedPercent","showUploadedSize","buttonText","removeTimeout","itemTemplate","breakPoints","fileSplitSize","getUploadedSize","saveUploadedSize","saveInfoLocal","onUploadStart","onUploadSuccess","onUploadComplete","onUploadError","onInit","onCancel","onSelect","formatFileSize","byKB","getFile","files","getFileTypes","str","result","arr1","len","pop","mimetypeMap","zip","jpg","png","gif","doc","xls","docx","xlsx","ppt","pptx","mp3","mp4","pdf","getMimetype","name","getAcceptString","types","mime","sendBlob","url","xhr","file","formdata","open","setRequestHeader","fd","FormData","key","send","fileObj","_this","instanceNumber","inputStr","uploadFileListStr","uploadAllowed","fileInput","uploadFileList","fileFilter","uploadOver","arr","typeArray","thisFile","alert","funSelect","$html","initWidth","initFileSize","initUppercent","uploadedSize","funGetUploadedSize","toFixed","num","percentText","funUploadFile","funDeleteFile","onProgress","loaded","total","eleProgress","thisLoaded","lastLoaded","progressBar","oldWidth","parseFloat","style","percent","nextAll","funGetProgressWidth","eleProgressBar","localStorage","getItem","funSaveUploadedSize","value","setItem","funGetFiles","funDealFiles","fileCount","splice","fadeOut","originalFile","thisfile","regulateView","XMLHttpRequest","ActiveXobject","fileName","fileId","fileIndex","fileSize","upload","addEventListener","onreadystatechange","readyState","status","returnData","JSON","parse","responseText","success","lastModifiedDate","returnObj","stop","cancel","disable","instanceID","ennable","destroy","settings","iconpicker","self","buttonSize","columns","allowedSizes","templates","sizes","$el","currentTarget","closeMenu","openMenu","icon","clickCallback","select","doFilter","$sizeSelector","$container","resize","createMenu","eval","$menu","class","$filter","sizeSelector","innerHeight","button","title","data-icon","data-filter","detach","scrollbarWidth","getScrollbarWidth","ceil","ucwords","$1","sortObj","obj","tempArry","tempObj","sort","b","localeCompare","$inner","$outer","inner","outer","width1","offsetWidth","width2"],"mappings":"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","file":"cui.extend.min.js","sourcesContent":["/* =========================================================\n * bootstrap-datetimepicker.js\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Improvements by Andrew Rowls\n * Improvements by Sébastien Malot\n * Improvements by Yun Lai\n * Improvements by Kenneth Henderick\n * Improvements by CuGBabyBeaR\n * Improvements by Christian Vaas\n *\n * Project URL : http://www.malot.fr/bootstrap-datetimepicker\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n!function ($) {\n\n  // Add ECMA262-5 Array methods if not supported natively (IE8)\n  if (!('indexOf' in Array.prototype)) {\n    Array.prototype.indexOf = function (find, i) {\n      if (i === undefined) i = 0;\n      if (i < 0) i += this.length;\n      if (i < 0) i = 0;\n      for (var n = this.length; i < n; i++) {\n        if (i in this && this[i] === find) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  }\n\n  function elementOrParentIsFixed (element) {\n    var $element = $(element);\n    var $checkElements = $element.add($element.parents());\n    var isFixed = false;\n    $checkElements.each(function(){\n      if ($(this).css('position') === 'fixed') {\n        isFixed = true;\n        return false;\n      }\n    });\n    return isFixed;\n  }\n\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate(), today.getUTCHours(), today.getUTCMinutes(), today.getUTCSeconds(), 0);\n  }\n\n  // Picker object\n  var Datetimepicker = function (element, options) {\n    var that = this;\n\n    this.element = $(element);\n\n    // add container for single page application\n    // when page switch the datetimepicker div will be removed also.\n    this.container = options.container || 'body';\n\n    this.language = options.language || this.element.data('date-language') || 'en';\n    this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\n    this.language = this.language in dates ? this.language : 'en';\n    this.isRTL = dates[this.language].rtl || false;\n    this.formatType = options.formatType || this.element.data('format-type') || 'standard';\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'), this.formatType);\n    this.isInline = false;\n    this.isVisible = false;\n    this.isInput = this.element.is('input');\n    this.fontAwesome = options.fontAwesome || this.element.data('font-awesome') || false;\n\n    this.bootcssVer = options.bootcssVer || (this.isInput ? (this.element.is('.form-control') ? 3 : 2) : ( this.bootcssVer = this.element.is('.input-group') ? 3 : 2 ));\n\n    this.component = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o').parent() : this.element.find('.add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar .fa-calendar .fa-clock-o').parent()) : false;\n    this.componentReset = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-remove, .input-group-addon .fa-times').parent():this.element.find('.add-on .icon-remove, .add-on .fa-times').parent()) : false;\n    this.hasInput = this.component && this.element.find('input').length;\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n    this.linkField = options.linkField || this.element.data('link-field') || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || DPGlobal.getDefaultFormat(this.formatType, 'link'), this.formatType);\n    this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\n    this.showMeridian = options.showMeridian || this.element.data('show-meridian') || false;\n    this.initialDate = options.initialDate || new Date();\n    this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\n\n    this.icons = {\n      leftArrow: this.fontAwesome ? 'fa-arrow-left' : (this.bootcssVer === 3 ? 'glyphicon-arrow-left' : 'icon-arrow-left'),\n      rightArrow: this.fontAwesome ? 'fa-arrow-right' : (this.bootcssVer === 3 ? 'glyphicon-arrow-right' : 'icon-arrow-right')\n    }\n    this.icontype = this.fontAwesome ? 'fa' : 'glyphicon';\n\n    this._attachEvents();\n\n    this.clickedOutside = function (e) {\n        // Clicked outside the datetimepicker, hide it\n        if ($(e.target).closest('.datetimepicker').length === 0) {\n            that.hide();\n        }\n    }\n\n    this.formatViewType = 'datetime';\n    if ('formatViewType' in options) {\n      this.formatViewType = options.formatViewType;\n    } else if ('formatViewType' in this.element.data()) {\n      this.formatViewType = this.element.data('formatViewType');\n    }\n\n    this.minView = 0;\n    if ('minView' in options) {\n      this.minView = options.minView;\n    } else if ('minView' in this.element.data()) {\n      this.minView = this.element.data('min-view');\n    }\n    this.minView = DPGlobal.convertViewMode(this.minView);\n\n    this.maxView = DPGlobal.modes.length - 1;\n    if ('maxView' in options) {\n      this.maxView = options.maxView;\n    } else if ('maxView' in this.element.data()) {\n      this.maxView = this.element.data('max-view');\n    }\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n\n    this.wheelViewModeNavigation = false;\n    if ('wheelViewModeNavigation' in options) {\n      this.wheelViewModeNavigation = options.wheelViewModeNavigation;\n    } else if ('wheelViewModeNavigation' in this.element.data()) {\n      this.wheelViewModeNavigation = this.element.data('view-mode-wheel-navigation');\n    }\n\n    this.wheelViewModeNavigationInverseDirection = false;\n\n    if ('wheelViewModeNavigationInverseDirection' in options) {\n      this.wheelViewModeNavigationInverseDirection = options.wheelViewModeNavigationInverseDirection;\n    } else if ('wheelViewModeNavigationInverseDirection' in this.element.data()) {\n      this.wheelViewModeNavigationInverseDirection = this.element.data('view-mode-wheel-navigation-inverse-dir');\n    }\n\n    this.wheelViewModeNavigationDelay = 100;\n    if ('wheelViewModeNavigationDelay' in options) {\n      this.wheelViewModeNavigationDelay = options.wheelViewModeNavigationDelay;\n    } else if ('wheelViewModeNavigationDelay' in this.element.data()) {\n      this.wheelViewModeNavigationDelay = this.element.data('view-mode-wheel-navigation-delay');\n    }\n\n    this.startViewMode = 2;\n    if ('startView' in options) {\n      this.startViewMode = options.startView;\n    } else if ('startView' in this.element.data()) {\n      this.startViewMode = this.element.data('start-view');\n    }\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n\n    this.viewSelect = this.minView;\n    if ('viewSelect' in options) {\n      this.viewSelect = options.viewSelect;\n    } else if ('viewSelect' in this.element.data()) {\n      this.viewSelect = this.element.data('view-select');\n    }\n    this.viewSelect = DPGlobal.convertViewMode(this.viewSelect);\n\n    this.forceParse = true;\n    if ('forceParse' in options) {\n      this.forceParse = options.forceParse;\n    } else if ('dateForceParse' in this.element.data()) {\n      this.forceParse = this.element.data('date-force-parse');\n    }\n    var template = this.bootcssVer === 3 ? DPGlobal.templateV3 : DPGlobal.template;\n    while (template.indexOf('{iconType}') !== -1) {\n      template = template.replace('{iconType}', this.icontype);\n    }\n    while (template.indexOf('{leftArrow}') !== -1) {\n      template = template.replace('{leftArrow}', this.icons.leftArrow);\n    }\n    while (template.indexOf('{rightArrow}') !== -1) {\n      template = template.replace('{rightArrow}', this.icons.rightArrow);\n    }\n    this.picker = $(template)\n      .appendTo(this.isInline ? this.element : this.container) // 'body')\n      .on({\n        click:     $.proxy(this.click, this),\n        mousedown: $.proxy(this.mousedown, this)\n      });\n\n    if (this.wheelViewModeNavigation) {\n      if ($.fn.mousewheel) {\n        this.picker.on({mousewheel: $.proxy(this.mousewheel, this)});\n      } else {\n        console.log('Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option');\n      }\n    }\n\n    if (this.isInline) {\n      this.picker.addClass('datetimepicker-inline');\n    } else {\n      this.picker.addClass('datetimepicker-dropdown-' + this.pickerPosition + ' dropdown-menu');\n    }\n    if (this.isRTL) {\n      this.picker.addClass('datetimepicker-rtl');\n      var selector = this.bootcssVer === 3 ? '.prev span, .next span' : '.prev i, .next i';\n      this.picker.find(selector).toggleClass(this.icons.leftArrow + ' ' + this.icons.rightArrow);\n    }\n\n    $(document).on('mousedown', this.clickedOutside);\n\n    this.autoclose = false;\n    if ('autoclose' in options) {\n      this.autoclose = options.autoclose;\n    } else if ('dateAutoclose' in this.element.data()) {\n      this.autoclose = this.element.data('date-autoclose');\n    }\n\n    this.keyboardNavigation = true;\n    if ('keyboardNavigation' in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\n    }\n\n    this.todayBtn = (options.todayBtn || this.element.data('date-today-btn') || false);\n    this.todayHighlight = (options.todayHighlight || this.element.data('date-today-highlight') || false);\n\n    this.weekStart = ((options.weekStart || this.element.data('date-weekstart') || dates[this.language].weekStart || 0) % 7);\n    this.weekEnd = ((this.weekStart + 6) % 7);\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\n    this.setMinutesDisabled(options.minutesDisabled || this.element.data('date-minute-disabled'));\n    this.setHoursDisabled(options.hoursDisabled || this.element.data('date-hour-disabled'));\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datetimepicker.prototype = {\n    constructor: Datetimepicker,\n\n    _events:       [],\n    _attachEvents: function () {\n      this._detachEvents();\n      if (this.isInput) { // single input\n        this._events = [\n          [this.element, {\n            focus:   $.proxy(this.show, this),\n            keyup:   $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }]\n        ];\n      }\n      else if (this.component && this.hasInput) { // component: input + button\n        this._events = [\n          // For components that are not readonly, allow keyboard nav\n          [this.element.find('input'), {\n            focus:   $.proxy(this.show, this),\n            keyup:   $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }],\n          [this.component, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n        if (this.componentReset) {\n          this._events.push([\n            this.componentReset,\n            {click: $.proxy(this.reset, this)}\n          ]);\n        }\n      }\n      else if (this.element.is('div')) {  // inline datetimepicker\n        this.isInline = true;\n      }\n      else {\n        this._events = [\n          [this.element, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      }\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n\n    _detachEvents: function () {\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n      this._events = [];\n    },\n\n    show: function (e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      if (this.forceParse) {\n        this.update();\n      }\n      this.place();\n      $(window).on('resize', $.proxy(this.place, this));\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      this.isVisible = true;\n      this.element.trigger({\n        type: 'show',\n        date: this.date\n      });\n    },\n\n    hide: function (e) {\n      if (!this.isVisible) return;\n      if (this.isInline) return;\n      this.picker.hide();\n      $(window).off('resize', this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      if (!this.isInput) {\n        $(document).off('mousedown', this.hide);\n      }\n\n      if (\n        this.forceParse &&\n          (\n            this.isInput && this.element.val() ||\n              this.hasInput && this.element.find('input').val()\n            )\n        )\n        this.setValue();\n      this.isVisible = false;\n      this.element.trigger({\n        type: 'hide',\n        date: this.date\n      });\n    },\n\n    remove: function () {\n      this._detachEvents();\n      $(document).off('mousedown', this.clickedOutside);\n      this.picker.remove();\n      delete this.picker;\n      delete this.element.data().datetimepicker;\n    },\n\n    getDate: function () {\n      var d = this.getUTCDate();\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\n    },\n\n    getUTCDate: function () {\n      return this.date;\n    },\n\n    setDate: function (d) {\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\n    },\n\n    setUTCDate: function (d) {\n      if (d >= this.startDate && d <= this.endDate) {\n        this.date = d;\n        this.setValue();\n        this.viewDate = this.date;\n        this.fill();\n      } else {\n        this.element.trigger({\n          type:      'outOfRange',\n          date:      d,\n          startDate: this.startDate,\n          endDate:   this.endDate\n        });\n      }\n    },\n\n    setFormat: function (format) {\n      this.format = DPGlobal.parseFormat(format, this.formatType);\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n      if (element && element.val()) {\n        this.setValue();\n      }\n    },\n\n    setValue: function () {\n      var formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted);\n        }\n        this.element.data('date', formatted);\n      } else {\n        this.element.val(formatted);\n      }\n      if (this.linkField) {\n        $('#' + this.linkField).val(this.getFormattedDate(this.linkFormat));\n      }\n    },\n\n    getFormattedDate: function (format) {\n      if (format == undefined) format = this.format;\n      return DPGlobal.formatDate(this.date, format, this.language, this.formatType);\n    },\n\n    setStartDate: function (startDate) {\n      this.startDate = startDate || -Infinity;\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setEndDate: function (endDate) {\n      this.endDate = endDate || Infinity;\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setMinutesDisabled: function (minutesDisabled) {\n      this.minutesDisabled = minutesDisabled || [];\n      if (!$.isArray(this.minutesDisabled)) {\n        this.minutesDisabled = this.minutesDisabled.split(/,\\s*/);\n      }\n      this.minutesDisabled = $.map(this.minutesDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setHoursDisabled: function (hoursDisabled) {\n      this.hoursDisabled = hoursDisabled || [];\n      if (!$.isArray(this.hoursDisabled)) {\n        this.hoursDisabled = this.hoursDisabled.split(/,\\s*/);\n      }\n      this.hoursDisabled = $.map(this.hoursDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    place: function () {\n      if (this.isInline) return;\n\n      if (!this.zIndex) {\n        var index_highest = 0;\n        $('div').each(function () {\n          var index_current = parseInt($(this).css('zIndex'), 10);\n          if (index_current > index_highest) {\n            index_highest = index_current;\n          }\n        });\n        this.zIndex = index_highest + 10;\n      }\n\n      var offset, top, left, containerOffset;\n      if (this.container instanceof $) {\n        containerOffset = this.container.offset();\n      } else {\n        containerOffset = $(this.container).offset();\n      }\n\n      if (this.component) {\n        offset = this.component.offset();\n        left = offset.left;\n        if (this.pickerPosition == 'bottom-left' || this.pickerPosition == 'top-left') {\n          left += this.component.outerWidth() - this.picker.outerWidth();\n        }\n      } else {\n        offset = this.element.offset();\n        left = offset.left;\n      }\n\n      var bodyWidth = document.body.clientWidth || window.innerWidth;\n      if (left + 220 > bodyWidth) {\n        left = bodyWidth - 220;\n      }\n\n      if (this.pickerPosition == 'top-left' || this.pickerPosition == 'top-right') {\n        top = offset.top - this.picker.outerHeight();\n      } else {\n        top = offset.top + this.height;\n      }\n\n      top = top - containerOffset.top;\n      left = left - containerOffset.left;\n\n      this.picker.css({\n        top:    top,\n        left:   left,\n        zIndex: this.zIndex\n      });\n    },\n\n    update: function () {\n      var date, fromArgs = false;\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = (this.isInput ? this.element.val() : this.element.find('input').val()) || this.element.data('date') || this.initialDate;\n        if (typeof date == 'string' || date instanceof String) {\n          date = date.replace(/^\\s+|\\s+$/g,'');\n        }\n      }\n\n      if (!date) {\n        date = new Date();\n        fromArgs = false;\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType);\n\n      if (fromArgs) this.setValue();\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate);\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate);\n      } else {\n        this.viewDate = new Date(this.date);\n      }\n      this.fill();\n    },\n\n    fillDow: function () {\n      var dowCnt = this.weekStart,\n        html = '<tr>';\n      while (dowCnt < this.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\n      }\n      html += '</tr>';\n      this.picker.find('.datetimepicker-days thead').append(html);\n    },\n\n    fillMonths: function () {\n      var html = '',\n        i = 0;\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\n      }\n      this.picker.find('.datetimepicker-months td').html(html);\n    },\n\n    fill: function () {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        dayMonth = d.getUTCDate(),\n        hours = d.getUTCHours(),\n        minutes = d.getUTCMinutes(),\n        startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n        startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() + 1 : -Infinity,\n        endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n        endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() + 1 : Infinity,\n        currentDate = (new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate())).valueOf(),\n        today = new Date();\n      this.picker.find('.datetimepicker-days thead th:eq(1)')\n        .text(dates[this.language].months[month] + ' ' + year);\n      if (this.formatViewType == 'time') {\n        var formatted = this.getFormattedDate();\n        this.picker.find('.datetimepicker-hours thead th:eq(1)').text(formatted);\n        this.picker.find('.datetimepicker-minutes thead th:eq(1)').text(formatted);\n      } else {\n        this.picker.find('.datetimepicker-hours thead th:eq(1)')\n          .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n        this.picker.find('.datetimepicker-minutes thead th:eq(1)')\n          .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n      }\n      this.picker.find('tfoot th.today')\n        .text(dates[this.language].today)\n        .toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      /*var prevMonth = UTCDate(year, month, 0,0,0,0,0);\n       prevMonth.setUTCDate(prevMonth.getDate() - (prevMonth.getUTCDay() - this.weekStart + 7)%7);*/\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push('<tr>');\n        }\n        clsName = '';\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n          clsName += ' old';\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n          clsName += ' new';\n        }\n        // Compare internal UTC date with local today, not UTC today\n        if (this.todayHighlight &&\n          prevMonth.getUTCFullYear() == today.getFullYear() &&\n          prevMonth.getUTCMonth() == today.getMonth() &&\n          prevMonth.getUTCDate() == today.getDate()) {\n          clsName += ' today';\n        }\n        if (prevMonth.valueOf() == currentDate) {\n          clsName += ' active';\n        }\n        if ((prevMonth.valueOf() + 86400000) <= this.startDate || prevMonth.valueOf() > this.endDate ||\n          $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1) {\n          clsName += ' disabled';\n        }\n        html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push('</tr>');\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find('.datetimepicker-days tbody').empty().append(html.join(''));\n\n      html = [];\n      var txt = '', meridian = '', meridianOld = '';\n      var hoursDisabled = this.hoursDisabled || [];\n      for (var i = 0; i < 24; i++) {\n        if (hoursDisabled.indexOf(i) !== -1) continue;\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = '';\n        // We want the previous hour for the startDate\n        if ((actual.valueOf() + 3600000) <= this.startDate || actual.valueOf() > this.endDate) {\n          clsName += ' disabled';\n        } else if (hours == i) {\n          clsName += ' active';\n        }\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\n          meridian = (i < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\n          if (meridian != meridianOld) {\n            if (meridianOld != '') {\n              html.push('</fieldset>');\n            }\n            html.push('<fieldset class=\"hour\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n          meridianOld = meridian;\n          txt = (i % 12 ? i % 12 : 12);\n          html.push('<span class=\"hour' + clsName + ' hour_' + (i < 12 ? 'am' : 'pm') + '\">' + txt + '</span>');\n          if (i == 23) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          html.push('<span class=\"hour' + clsName + '\">' + txt + '</span>');\n        }\n      }\n      this.picker.find('.datetimepicker-hours td').html(html.join(''));\n\n      html = [];\n      txt = '', meridian = '', meridianOld = '';\n      var minutesDisabled = this.minutesDisabled || [];\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        if (minutesDisabled.indexOf(i) !== -1) continue;\n        var actual = UTCDate(year, month, dayMonth, hours, i, 0);\n        clsName = '';\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += ' disabled';\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += ' active';\n        }\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\n          meridian = (hours < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\n          if (meridian != meridianOld) {\n            if (meridianOld != '') {\n              html.push('</fieldset>');\n            }\n            html.push('<fieldset class=\"minute\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n          meridianOld = meridian;\n          txt = (hours % 12 ? hours % 12 : 12);\n          //html.push('<span class=\"minute'+clsName+' minute_'+(hours<12?'am':'pm')+'\">'+txt+'</span>');\n          html.push('<span class=\"minute' + clsName + '\">' + txt + ':' + (i < 10 ? '0' + i : i) + '</span>');\n          if (i == 59) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          //html.push('<span class=\"hour'+clsName+'\">'+txt+'</span>');\n          html.push('<span class=\"minute' + clsName + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\n        }\n      }\n      this.picker.find('.datetimepicker-minutes td').html(html.join(''));\n\n      var currentYear = this.date.getUTCFullYear();\n      var months = this.picker.find('.datetimepicker-months')\n        .find('th:eq(1)')\n        .text(year)\n        .end()\n        .find('span').removeClass('active');\n      if (currentYear == year) {\n        // getUTCMonths() returns 0 based, and we need to select the next one\n                // To cater bootstrap 2 we don't need to select the next one\n                var offset = months.length - 12;\n        months.eq(this.date.getUTCMonth() + offset).addClass('active');\n      }\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n      if (year == startYear) {\n        months.slice(0, startMonth + 1).addClass('disabled');\n      }\n      if (year == endYear) {\n        months.slice(endMonth).addClass('disabled');\n      }\n\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find('.datetimepicker-years')\n        .find('th:eq(1)')\n        .text(year + '-' + (year + 9))\n        .end()\n        .find('td');\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += '<span class=\"year' + (i == -1 || i == 10 ? ' old' : '') + (currentYear == year ? ' active' : '') + (year < startYear || year > endYear ? ' disabled' : '') + '\">' + year + '</span>';\n        year += 1;\n      }\n      yearCont.html(html);\n      this.place();\n    },\n\n    updateNavArrows: function () {\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        day = d.getUTCDate(),\n        hour = d.getUTCHours();\n      switch (this.viewMode) {\n        case 0:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()\n            && day <= this.startDate.getUTCDate()\n            && hour <= this.startDate.getUTCHours()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()\n            && day >= this.endDate.getUTCDate()\n            && hour >= this.endDate.getUTCHours()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 1:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()\n            && day <= this.startDate.getUTCDate()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()\n            && day >= this.endDate.getUTCDate()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 2:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 3:\n        case 4:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n      }\n    },\n\n    mousewheel: function (e) {\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (this.wheelPause) {\n        return;\n      }\n\n      this.wheelPause = true;\n\n      var originalEvent = e.originalEvent;\n\n      var delta = originalEvent.wheelDelta;\n\n      var mode = delta > 0 ? 1 : (delta === 0) ? 0 : -1;\n\n      if (this.wheelViewModeNavigationInverseDirection) {\n        mode = -mode;\n      }\n\n      this.showMode(mode);\n\n      setTimeout($.proxy(function () {\n\n        this.wheelPause = false\n\n      }, this), this.wheelViewModeNavigationDelay);\n\n    },\n\n    click: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th, legend');\n      if (target.is('.' + this.icontype)) {\n        target = $(target).parent().closest('span, td, th, legend');\n      }\n      if (target.length == 1) {\n        if (target.is('.disabled')) {\n          this.element.trigger({\n            type:      'outOfRange',\n            date:      this.viewDate,\n            startDate: this.startDate,\n            endDate:   this.endDate\n          });\n          return;\n        }\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'switch':\n                this.showMode(1);\n                break;\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveHour(this.viewDate, dir);\n                    break;\n                  case 1:\n                    this.viewDate = this.moveDate(this.viewDate, dir);\n                    break;\n                  case 2:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n                  case 3:\n                  case 4:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n                this.fill();\n                this.element.trigger({\n                  type:      target[0].className + ':' + this.convertViewModeText(this.viewMode),\n                  date:      this.viewDate,\n                  startDate: this.startDate,\n                  endDate:   this.endDate\n                });\n                break;\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);\n\n                // Respect startDate and endDate.\n                if (date < this.startDate) date = this.startDate;\n                else if (date > this.endDate) date = this.endDate;\n\n                this.viewMode = this.startViewMode;\n                this.showMode(0);\n                this._setDate(date);\n                this.fill();\n                if (this.autoclose) {\n                  this.hide();\n                }\n                break;\n            }\n            break;\n          case 'span':\n            if (!target.is('.disabled')) {\n              var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                day = this.viewDate.getUTCDate(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n\n              if (target.is('.month')) {\n                this.viewDate.setUTCDate(1);\n                month = target.parent().find('span').index(target);\n                day = this.viewDate.getUTCDate();\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: 'changeMonth',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 3) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.year')) {\n                this.viewDate.setUTCDate(1);\n                year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: 'changeYear',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 4) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.hour')) {\n                hours = parseInt(target.text(), 10) || 0;\n                if (target.hasClass('hour_am') || target.hasClass('hour_pm')) {\n                  if (hours == 12 && target.hasClass('hour_am')) {\n                    hours = 0;\n                  } else if (hours != 12 && target.hasClass('hour_pm')) {\n                    hours += 12;\n                  }\n                }\n                this.viewDate.setUTCHours(hours);\n                this.element.trigger({\n                  type: 'changeHour',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 1) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.minute')) {\n                minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\n                this.viewDate.setUTCMinutes(minutes);\n                this.element.trigger({\n                  type: 'changeMinute',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 0) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              }\n              if (this.viewMode != 0) {\n                var oldViewMode = this.viewMode;\n                this.showMode(-1);\n                this.fill();\n                if (oldViewMode == this.viewMode && this.autoclose) {\n                  this.hide();\n                }\n              } else {\n                this.fill();\n                if (this.autoclose) {\n                  this.hide();\n                }\n              }\n            }\n            break;\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n              this.viewDate.setUTCFullYear(year);\n              this.viewDate.setUTCMonth(month, day);\n              this.element.trigger({\n                type: 'changeDay',\n                date: this.viewDate\n              });\n              if (this.viewSelect >= 2) {\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              }\n            }\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n            break;\n        }\n      }\n    },\n\n    _setDate: function (date, which) {\n      if (!which || which == 'date')\n        this.date = date;\n      if (!which || which == 'view')\n        this.viewDate = date;\n      this.fill();\n      this.setValue();\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n      if (element) {\n        element.change();\n        if (this.autoclose && (!which || which == 'date')) {\n          //this.hide();\n        }\n      }\n      this.element.trigger({\n        type: 'changeDate',\n        date: this.date\n      });\n      if(date == null)\n        this.date = this.viewDate;\n    },\n\n    moveMinute: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCMinutes(new_date.getUTCMinutes() + (dir * this.minuteStep));\n      return new_date;\n    },\n\n    moveHour: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n\n    moveDate: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n\n    moveMonth: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n        day = new_date.getUTCDate(),\n        month = new_date.getUTCMonth(),\n        mag = Math.abs(dir),\n        new_month, test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag == 1) {\n        test = dir == -1\n          // If going back one month, make sure month is not current month\n          // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n          ? function () {\n          return new_date.getUTCMonth() == month;\n        }\n          // If going forward one month, make sure month is as expected\n          // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n          : function () {\n          return new_date.getUTCMonth() != new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11)\n          new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++)\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n          new_date = this.moveMonth(new_date, dir);\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function () {\n          return new_month != new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n\n    moveYear: function (date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n\n    dateWithinRange: function (date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n\n    keydown: function (e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n      var dateChanged = false,\n        dir, day, month,\n        newDate, newViewDate;\n      switch (e.keyCode) {\n        case 27: // escape\n          this.hide();\n          e.preventDefault();\n          break;\n        case 37: // left\n        case 39: // right\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 37 ? -1 : 1;\n          viewMode = this.viewMode;\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n          if (viewMode == 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode == 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode == 2) {\n            newDate = this.moveDate(this.date, dir);\n            newViewDate = this.moveDate(this.viewDate, dir);\n          } else if (viewMode == 1) {\n            newDate = this.moveHour(this.date, dir);\n            newViewDate = this.moveHour(this.viewDate, dir);\n          } else if (viewMode == 0) {\n            newDate = this.moveMinute(this.date, dir);\n            newViewDate = this.moveMinute(this.viewDate, dir);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 38: // up\n        case 40: // down\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 38 ? -1 : 1;\n          viewMode = this.viewMode;\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n          if (viewMode == 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode == 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode == 2) {\n            newDate = this.moveDate(this.date, dir * 7);\n            newViewDate = this.moveDate(this.viewDate, dir * 7);\n          } else if (viewMode == 1) {\n            if (this.showMeridian) {\n              newDate = this.moveHour(this.date, dir * 6);\n              newViewDate = this.moveHour(this.viewDate, dir * 6);\n            } else {\n              newDate = this.moveHour(this.date, dir * 4);\n              newViewDate = this.moveHour(this.viewDate, dir * 4);\n            }\n          } else if (viewMode == 0) {\n            newDate = this.moveMinute(this.date, dir * 4);\n            newViewDate = this.moveMinute(this.viewDate, dir * 4);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 13: // enter\n          if (this.viewMode != 0) {\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n          } else {\n            this.fill();\n            if (this.autoclose) {\n              this.hide();\n            }\n          }\n          e.preventDefault();\n          break;\n        case 9: // tab\n          this.hide();\n          break;\n      }\n      if (dateChanged) {\n        var element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n        if (element) {\n          element.change();\n        }\n        this.element.trigger({\n          type: 'changeDate',\n          date: this.date\n        });\n      }\n    },\n\n    showMode: function (dir) {\n      if (dir) {\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.element.trigger({\n            type:        'changeMode',\n            date:        this.viewDate,\n            oldViewMode: this.viewMode,\n            newViewMode: newViewMode\n          });\n\n          this.viewMode = newViewMode;\n        }\n      }\n      /*\n       vitalets: fixing bug of very special conditions:\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\n       Method show() does not set display css correctly and datetimepicker is not shown.\n       Changed to .css('display', 'block') solve the problem.\n       See https://github.com/vitalets/x-editable/issues/37\n\n       In jquery 1.7.2+ everything works fine.\n       */\n      //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n      this.picker.find('>div').hide().filter('.datetimepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    },\n\n    reset: function (e) {\n      this._setDate(null, 'date');\n    },\n\n    convertViewModeText:  function (viewMode) {\n      switch (viewMode) {\n        case 4:\n          return 'decade';\n        case 3:\n          return 'year';\n        case 2:\n          return 'month';\n        case 1:\n          return 'day';\n        case 0:\n          return 'hour';\n      }\n    }\n  };\n\n  var old = $.fn.datetimepicker;\n  $.fn.datetimepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n        data = $this.data('datetimepicker'),\n        options = typeof option == 'object' && option;\n      if (!data) {\n        $this.data('datetimepicker', (data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options))));\n      }\n      if (typeof option == 'string' && typeof data[option] == 'function') {\n        internal_return = data[option].apply(data, args);\n        if (internal_return !== undefined) {\n          return false;\n        }\n      }\n    });\n    if (internal_return !== undefined)\n      return internal_return;\n    else\n      return this;\n  };\n\n  $.fn.datetimepicker.defaults = {\n  };\n  $.fn.datetimepicker.Constructor = Datetimepicker;\n  var dates = $.fn.datetimepicker.dates = {\n    en: {\n      days:        ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n      daysShort:   ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n      daysMin:     ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n      months:      ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      meridiem:    ['am', 'pm'],\n      suffix:      ['st', 'nd', 'rd', 'th'],\n      today:       'Today'\n    }\n  };\n\n  var DPGlobal = {\n    modes:            [\n      {\n        clsName: 'minutes',\n        navFnc:  'Hours',\n        navStep: 1\n      },\n      {\n        clsName: 'hours',\n        navFnc:  'Date',\n        navStep: 1\n      },\n      {\n        clsName: 'days',\n        navFnc:  'Month',\n        navStep: 1\n      },\n      {\n        clsName: 'months',\n        navFnc:  'FullYear',\n        navStep: 1\n      },\n      {\n        clsName: 'years',\n        navFnc:  'FullYear',\n        navStep: 10\n      }\n    ],\n    isLeapYear:       function (year) {\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n    },\n    getDaysInMonth:   function (year, month) {\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n    },\n    getDefaultFormat: function (type, field) {\n      if (type == 'standard') {\n        if (field == 'input')\n          return 'yyyy-mm-dd hh:ii';\n        else\n          return 'yyyy-mm-dd hh:ii:ss';\n      } else if (type == 'php') {\n        if (field == 'input')\n          return 'Y-m-d H:i';\n        else\n          return 'Y-m-d H:i:s';\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    validParts: function (type) {\n      if (type == 'standard') {\n        return /hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\n      } else if (type == 'php') {\n        return /[dDjlNwzFmMnStyYaABgGhHis]/g;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\n    parseFormat: function (format, type) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts(type), '\\0').split('\\0'),\n        parts = format.match(this.validParts(type));\n      if (!separators || !separators.length || !parts || parts.length == 0) {\n        throw new Error('Invalid date format.');\n      }\n      return {separators: separators, parts: parts};\n    },\n    parseDate: function (date, format, language, type) {\n      if (date instanceof Date) {\n        var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n        dateUTC.setMilliseconds(0);\n        return dateUTC;\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd', type);\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii', type);\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\n      }\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n          parts = date.match(/([-+]\\d+)([dmwy])/g),\n          part, dir;\n        date = new Date();\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n            case 'm':\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n              break;\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n            case 'y':\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n              break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\n      }\n      var parts = date && date.toString().match(this.nonpunctuation) || [],\n        date = new Date(0, 0, 0, 0, 0, 0, 0),\n        parsed = {},\n        setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P'],\n        setters_map = {\n          hh:   function (d, v) {\n            return d.setUTCHours(v);\n          },\n          h:    function (d, v) {\n            return d.setUTCHours(v);\n          },\n          HH:   function (d, v) {\n            return d.setUTCHours(v == 12 ? 0 : v);\n          },\n          H:    function (d, v) {\n            return d.setUTCHours(v == 12 ? 0 : v);\n          },\n          ii:   function (d, v) {\n            return d.setUTCMinutes(v);\n          },\n          i:    function (d, v) {\n            return d.setUTCMinutes(v);\n          },\n          ss:   function (d, v) {\n            return d.setUTCSeconds(v);\n          },\n          s:    function (d, v) {\n            return d.setUTCSeconds(v);\n          },\n          yyyy: function (d, v) {\n            return d.setUTCFullYear(v);\n          },\n          yy:   function (d, v) {\n            return d.setUTCFullYear(2000 + v);\n          },\n          m:    function (d, v) {\n            v -= 1;\n            while (v < 0) v += 12;\n            v %= 12;\n            d.setUTCMonth(v);\n            while (d.getUTCMonth() != v)\n              if (isNaN(d.getUTCMonth()))\n                return d;\n              else\n                d.setUTCDate(d.getUTCDate() - 1);\n            return d;\n          },\n          d:    function (d, v) {\n            return d.setUTCDate(v);\n          },\n          p:    function (d, v) {\n            return d.setUTCHours(v == 1 ? d.getUTCHours() + 12 : d.getUTCHours());\n          }\n        },\n        val, filtered, part;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      setters_map['P'] = setters_map['p'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m.toLowerCase() == p.toLowerCase();\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n              case 'p':\n              case 'P':\n                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\n                break;\n            }\n          }\n          parsed[part] = val;\n        }\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s]))\n            setters_map[s](date, parsed[s])\n        }\n      }\n      return date;\n    },\n    formatDate:       function (date, format, language, type) {\n      if (date == null) {\n        return '';\n      }\n      var val;\n      if (type == 'standard') {\n        val = {\n          // year\n          yy:   date.getUTCFullYear().toString().substring(2),\n          yyyy: date.getUTCFullYear(),\n          // month\n          m:    date.getUTCMonth() + 1,\n          M:    dates[language].monthsShort[date.getUTCMonth()],\n          MM:   dates[language].months[date.getUTCMonth()],\n          // day\n          d:    date.getUTCDate(),\n          D:    dates[language].daysShort[date.getUTCDay()],\n          DD:   dates[language].days[date.getUTCDay()],\n          p:    (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\n          // hour\n          h:    date.getUTCHours(),\n          // minute\n          i:    date.getUTCMinutes(),\n          // second\n          s:    date.getUTCSeconds()\n        };\n\n        if (dates[language].meridiem.length == 2) {\n          val.H = (val.h % 12 == 0 ? 12 : val.h % 12);\n        }\n        else {\n          val.H = val.h;\n        }\n        val.HH = (val.H < 10 ? '0' : '') + val.H;\n        val.P = val.p.toUpperCase();\n        val.hh = (val.h < 10 ? '0' : '') + val.h;\n        val.ii = (val.i < 10 ? '0' : '') + val.i;\n        val.ss = (val.s < 10 ? '0' : '') + val.s;\n        val.dd = (val.d < 10 ? '0' : '') + val.d;\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\n      } else if (type == 'php') {\n        // php format\n        val = {\n          // year\n          y: date.getUTCFullYear().toString().substring(2),\n          Y: date.getUTCFullYear(),\n          // month\n          F: dates[language].months[date.getUTCMonth()],\n          M: dates[language].monthsShort[date.getUTCMonth()],\n          n: date.getUTCMonth() + 1,\n          t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\n          // day\n          j: date.getUTCDate(),\n          l: dates[language].days[date.getUTCDay()],\n          D: dates[language].daysShort[date.getUTCDay()],\n          w: date.getUTCDay(), // 0 -> 6\n          N: (date.getUTCDay() == 0 ? 7 : date.getUTCDay()),       // 1 -> 7\n          S: (date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : ''),\n          // hour\n          a: (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\n          g: (date.getUTCHours() % 12 == 0 ? 12 : date.getUTCHours() % 12),\n          G: date.getUTCHours(),\n          // minute\n          i: date.getUTCMinutes(),\n          // second\n          s: date.getUTCSeconds()\n        };\n        val.m = (val.n < 10 ? '0' : '') + val.n;\n        val.d = (val.j < 10 ? '0' : '') + val.j;\n        val.A = val.a.toString().toUpperCase();\n        val.h = (val.g < 10 ? '0' : '') + val.g;\n        val.H = (val.G < 10 ? '0' : '') + val.G;\n        val.i = (val.i < 10 ? '0' : '') + val.i;\n        val.s = (val.s < 10 ? '0' : '') + val.s;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n      var date = [],\n        seps = $.extend([], format.separators);\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) {\n          date.push(seps.shift());\n        }\n        date.push(val[format.parts[i]]);\n      }\n      if (seps.length) {\n        date.push(seps.shift());\n      }\n      return date.join('');\n    },\n    convertViewMode:  function (viewMode) {\n      switch (viewMode) {\n        case 4:\n        case 'decade':\n          viewMode = 4;\n          break;\n        case 3:\n        case 'year':\n          viewMode = 3;\n          break;\n        case 2:\n        case 'month':\n          viewMode = 2;\n          break;\n        case 1:\n        case 'day':\n          viewMode = 1;\n          break;\n        case 0:\n        case 'hour':\n          viewMode = 0;\n          break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: '<thead>' +\n                '<tr>' +\n                '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>' +\n                '<th colspan=\"5\" class=\"switch\"></th>' +\n                '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>' +\n                '</tr>' +\n      '</thead>',\n    headTemplateV3: '<thead>' +\n                '<tr>' +\n                '<th class=\"prev\"><span class=\"{iconType} {leftArrow}\"></span> </th>' +\n                '<th colspan=\"5\" class=\"switch\"></th>' +\n                '<th class=\"next\"><span class=\"{iconType} {rightArrow}\"></span> </th>' +\n                '</tr>' +\n      '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datetimepicker\">' +\n    '<div class=\"datetimepicker-minutes\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-hours\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-days\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    '<tbody></tbody>' +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-months\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-years\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '</div>';\n  DPGlobal.templateV3 = '<div class=\"datetimepicker\">' +\n    '<div class=\"datetimepicker-minutes\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-hours\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-days\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    '<tbody></tbody>' +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-months\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-years\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '</div>';\n  $.fn.datetimepicker.DPGlobal = DPGlobal;\n\n  /* DATETIMEPICKER NO CONFLICT\n   * =================== */\n\n  $.fn.datetimepicker.noConflict = function () {\n    $.fn.datetimepicker = old;\n    return this;\n  };\n\n  /* DATETIMEPICKER DATA-API\n   * ================== */\n\n  $(document).on(\n    'focus.datetimepicker.data-api click.datetimepicker.data-api',\n    '[data-provide=\"datetimepicker\"]',\n    function (e) {\n      var $this = $(this);\n      if ($this.data('datetimepicker')) return;\n      e.preventDefault();\n      // component click requires us to explicitly show it\n      $this.datetimepicker('show');\n    }\n  );\n  $(function () {\n    $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\n  });\n\n}(window.jQuery);\n\n// jQuery List DragSort v0.5.1-cmaish\n// Website: http://dragsort.codeplex.com/\n// License: http://dragsort.codeplex.com/license\n// This version from: https://github.com/cmaish/dragsort\n\n(function($) {\n\n\t$.fn.dragsort = function(options) {\n\t\tif (options == \"destroy\") {\n\t\t\t$(this.selector).trigger(\"dragsort-uninit\");\n\t\t\treturn;\n\t\t}\n\n\t\tvar opts = $.extend({}, $.fn.dragsort.defaults, options);\n\t\tvar lists = [];\n\t\tvar list = null, lastPos = null;\n\n\t\tthis.each(function(i, cont) {\n\n\t\t\t//if list container is table, the browser automatically wraps rows in tbody if not specified so change list container to tbody so that children returns rows as user expected\n\t\t\tif ($(cont).is(\"table\") && $(cont).children().size() == 1 && $(cont).children().is(\"tbody\"))\n\t\t\t\tcont = $(cont).children().get(0);\n\n\t\t\tvar newList = {\n\t\t\t\tdraggedItem: null,\n\t\t\t\tplaceHolderItem: null,\n\t\t\t\tpos: null,\n\t\t\t\toffset: null,\n\t\t\t\toffsetLimit: null,\n\t\t\t\tscroll: null,\n\t\t\t\tcontainer: cont,\n\n\t\t\t\tinit: function() {\n\t\t\t\t\t//set options to default values if not set\n\t\t\t\t\topts.tagName = $(this.container).children().size() == 0 ? \"li\" : $(this.container).children().get(0).tagName.toLowerCase();\n\t\t\t\t\tif (opts.itemSelector == \"\")\n\t\t\t\t\t\topts.itemSelector = opts.tagName;\n\t\t\t\t\tif (opts.dragSelector == \"\")\n\t\t\t\t\t\topts.dragSelector = opts.tagName;\n\t\t\t\t\tif (opts.placeHolderTemplate == \"\")\n\t\t\t\t\t\topts.placeHolderTemplate = \"<\" + opts.tagName + \">&nbsp;</\" + opts.tagName + \">\";\n\n\t\t\t\t\t//listidx allows reference back to correct list variable instance\n\t\t\t\t\t$(this.container).attr(\"data-listidx\", i).mousedown(this.grabItem).bind(\"dragsort-uninit\", this.uninit);\n\t\t\t\t\tthis.styleDragHandlers(true);\n\t\t\t\t},\n\n\t\t\t\tuninit: function() {\n\t\t\t\t\tvar list = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\t$(list.container).unbind(\"mousedown\", list.grabItem).unbind(\"dragsort-uninit\");\n\t\t\t\t\tlist.styleDragHandlers(false);\n\t\t\t\t},\n\n\t\t\t\tgetItems: function() {\n\t\t\t\t\treturn $(this.container).children(opts.itemSelector);\n\t\t\t\t},\n\n\t\t\t\tstyleDragHandlers: function(cursor) {\n\t\t\t\t\tthis.getItems().map(function() { return $(this).is(opts.dragSelector) ? this : $(this).find(opts.dragSelector).get(); }).css(\"cursor\", cursor ? \"pointer\" : \"\");\n\t\t\t\t},\n\n\t\t\t\tgrabItem: function(e) {\n\t\t\t\t\tvar list = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\tvar item = $(e.target).closest(\"[data-listidx] > \" + opts.tagName).get(0);\n\t\t\t\t\tvar insideMoveableItem = list.getItems().filter(function() { return this == item; }).size() > 0;\n\n\t\t\t\t\t//if not left click or if clicked on excluded element (e.g. text box) or not a moveable list item return\n\t\t\t\t\tif (e.which != 1 || $(e.target).is(opts.dragSelectorExclude) || $(e.target).closest(opts.dragSelectorExclude).size() > 0 || !insideMoveableItem)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t//prevents selection, stops issue on Fx where dragging hyperlink doesn't work and on IE where it triggers mousemove even though mouse hasn't moved,\n\t\t\t\t\t//does also stop being able to click text boxes hence dragging on text boxes by default is disabled in dragSelectorExclude\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t//change cursor to move while dragging\n\t\t\t\t\tvar dragHandle = e.target;\n\t\t\t\t\twhile (!$(dragHandle).is(opts.dragSelector)) {\n\t\t\t\t\t\tif (dragHandle == this) return;\n\t\t\t\t\t\tdragHandle = dragHandle.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\t$(dragHandle).attr(\"data-cursor\", $(dragHandle).css(\"cursor\"));\n\t\t\t\t\t$(dragHandle).css(\"cursor\", \"move\");\n\n\t\t\t\t\t//on mousedown wait for movement of mouse before triggering dragsort script (dragStart) to allow clicking of hyperlinks to work\n\t\t\t\t\tvar listElem = this;\n\t\t\t\t\tvar trigger = function() {\n\t\t\t\t\t\tlist.dragStart.call(listElem, e);\n\t\t\t\t\t\t$(list.container).unbind(\"mousemove\", trigger);\n\t\t\t\t\t};\n\t\t\t\t\t$(list.container).mousemove(trigger).mouseup(function() { $(list.container).unbind(\"mousemove\", trigger); $(dragHandle).css(\"cursor\", $(dragHandle).attr(\"data-cursor\")); });\n\t\t\t\t},\n\n\t\t\t\tdragStart: function(e) {\n\t\t\t\t\tif (list != null && list.draggedItem != null)\n\t\t\t\t\t\tlist.dropItem();\n\n\t\t\t\t\tlist = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\tlist.draggedItem = $(e.target).closest(\"[data-listidx] > \" + opts.tagName)\n\t\t\t\t\t\n\t\t\t\t\t//raise event\n\t\t\t\t\tif (opts.dragStart.apply(list.draggedItem) === false) {\n\t\t\t\t\t    list.draggedItem = null;\n\t\t\t\t\t    return;\n\t\t\t\t\t}\n\n\t\t\t\t\t//record current position so on dragend we know if the dragged item changed position or not, not using getItems to allow dragsort to restore dragged item to original location in relation to fixed items\n\t\t\t\t\tlist.draggedItem.attr(\"data-origpos\", $(this).attr(\"data-listidx\") + \"-\" + $(list.container).children().index(list.draggedItem));\n\n\t\t\t\t\t//calculate mouse offset relative to draggedItem\n\t\t\t\t\tvar mt = parseInt(list.draggedItem.css(\"marginTop\"));\n\t\t\t\t\tvar ml = parseInt(list.draggedItem.css(\"marginLeft\"));\n\t\t\t\t\tlist.offset = list.draggedItem.offset();\n\t\t\t\t\tlist.offset.top = e.pageY - list.offset.top + (isNaN(mt) ? 0 : mt) - 1;\n\t\t\t\t\tlist.offset.left = e.pageX - list.offset.left + (isNaN(ml) ? 0 : ml) - 1;\n\n\t\t\t\t\t//calculate box the dragged item can't be dragged outside of\n\t\t\t\t\tif (!opts.dragBetween) {\n\t\t\t\t\t\tvar containerHeight = $(list.container).outerHeight() == 0 ? Math.max(1, Math.round(0.5 + list.getItems().size() * list.draggedItem.outerWidth() / $(list.container).outerWidth())) * list.draggedItem.outerHeight() : $(list.container).outerHeight();\n\t\t\t\t\t\tlist.offsetLimit = $(list.container).offset();\n\t\t\t\t\t\tlist.offsetLimit.right = list.offsetLimit.left + $(list.container).outerWidth() - list.draggedItem.outerWidth();\n\t\t\t\t\t\tlist.offsetLimit.bottom = list.offsetLimit.top + containerHeight - list.draggedItem.outerHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\t//create placeholder item\n\t\t\t\t\tvar h = list.draggedItem.height();\n\t\t\t\t\tvar w = list.draggedItem.width();\n\t\t\t\t\tif (opts.tagName == \"tr\") {\n\t\t\t\t\t\tlist.draggedItem.children().each(function() { $(this).width($(this).width()); });\n\t\t\t\t\t\tlist.placeHolderItem = list.draggedItem.clone().attr(\"data-placeholder\", true);\n\t\t\t\t\t\tlist.draggedItem.after(list.placeHolderItem);\n\t\t\t\t\t\tlist.placeHolderItem.children().each(function() { $(this).css({ borderWidth:0, width: $(this).width() + 1, height: $(this).height() + 1 }).html(\"&nbsp;\"); });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist.draggedItem.after(opts.placeHolderTemplate);\n\t\t\t\t\t\tlist.placeHolderItem = list.draggedItem.next().css({ height: h, width: w }).attr(\"data-placeholder\", true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.tagName == \"td\") {\n\t\t\t\t\t\tvar listTable = list.draggedItem.closest(\"table\").get(0);\n\t\t\t\t\t\t$(\"<table id='\" + listTable.id + \"' style='border-width: 0px;' class='dragSortItem \" + listTable.className + \"'><tr></tr></table>\").appendTo(\"body\").children().append(list.draggedItem);\n\t\t\t\t\t}\n\n\t\t\t\t\t//style draggedItem while dragging\n\t\t\t\t\tvar orig = list.draggedItem.attr(\"style\");\n\t\t\t\t\tlist.draggedItem.attr(\"data-origstyle\", orig ? orig : \"\");\n\t\t\t\t\tlist.draggedItem.css({ position: \"absolute\", opacity: 0.8, \"z-index\": 999, height: h, width: w });\n\n\t\t\t\t\t//auto-scroll setup\n\t\t\t\t\tlist.scroll = { moveX: 0, moveY: 0, maxX: $(document).width() - $(window).width(), maxY: $(document).height() - $(window).height() };\n\t\t\t\t\tlist.scroll.scrollY = window.setInterval(function() {\n\t\t\t\t\t\tif (opts.scrollContainer != window) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollTop($(opts.scrollContainer).scrollTop() + list.scroll.moveY);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar t = $(opts.scrollContainer).scrollTop();\n\t\t\t\t\t\tif (list.scroll.moveY > 0 && t < list.scroll.maxY || list.scroll.moveY < 0 && t > 0) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollTop(t + list.scroll.moveY);\n\t\t\t\t\t\t\tlist.draggedItem.css(\"top\", list.draggedItem.offset().top + list.scroll.moveY + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlist.scroll.scrollX = window.setInterval(function() {\n\t\t\t\t\t\tif (opts.scrollContainer != window) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollLeft($(opts.scrollContainer).scrollLeft() + list.scroll.moveX);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar l = $(opts.scrollContainer).scrollLeft();\n\t\t\t\t\t\tif (list.scroll.moveX > 0 && l < list.scroll.maxX || list.scroll.moveX < 0 && l > 0) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollLeft(l + list.scroll.moveX);\n\t\t\t\t\t\t\tlist.draggedItem.css(\"left\", list.draggedItem.offset().left + list.scroll.moveX + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\n\t\t\t\t\t//misc\n\t\t\t\t\t$(lists).each(function(i, l) { l.createDropTargets(); l.buildPositionTable(); });\n\t\t\t\t\tlist.setPos(e.pageX, e.pageY);\n\t\t\t\t\t$(document).bind(\"mousemove\", list.swapItems);\n\t\t\t\t\t$(document).bind(\"mouseup\", list.dropItem);\n\t\t\t\t\tif (opts.scrollContainer != window)\n\t\t\t\t\t\t$(window).bind(\"DOMMouseScroll mousewheel\", list.wheel);\n\t\t\t\t},\n\n\t\t\t\t//set position of draggedItem\n\t\t\t\tsetPos: function(x, y) { \n\t\t\t\t\t//remove mouse offset so mouse cursor remains in same place on draggedItem instead of top left corner\n\t\t\t\t\tvar top = y - this.offset.top;\n\t\t\t\t\tvar left = x - this.offset.left;\n\n\t\t\t\t\t//limit top, left to within box draggedItem can't be dragged outside of\n\t\t\t\t\tif (!opts.dragBetween) {\n\t\t\t\t\t\ttop = Math.min(this.offsetLimit.bottom, Math.max(top, this.offsetLimit.top));\n\t\t\t\t\t\tleft = Math.min(this.offsetLimit.right, Math.max(left, this.offsetLimit.left));\n\t\t\t\t\t}\n\n\t\t\t\t\t//adjust top & left calculations to parent offset\n\t\t\t\t\tvar parent = this.draggedItem.offsetParent().not(\"body\").offset(); //offsetParent returns body even when it's static, if not static offset is only factoring margin\n\t\t\t\t\tif (parent != null) {\n\t\t\t\t\t\ttop -= parent.top;\n\t\t\t\t\t\tleft -= parent.left;\n\t\t\t\t\t}\n\n\t\t\t\t\t//set x or y auto-scroll amount\n\t\t\t\t\tif (opts.scrollContainer == window) {\n\t\t\t\t\t\ty -= $(window).scrollTop();\n\t\t\t\t\t\tx -= $(window).scrollLeft();\n\t\t\t\t\t\ty = Math.max(0, y - $(window).height() + 5) + Math.min(0, y - 5);\n\t\t\t\t\t\tx = Math.max(0, x - $(window).width() + 5) + Math.min(0, x - 5);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar cont = $(opts.scrollContainer);\n\t\t\t\t\t\tvar offset = cont.offset();\n\t\t\t\t\t\ty = Math.max(0, y - cont.height() - offset.top) + Math.min(0, y - offset.top);\n\t\t\t\t\t\tx = Math.max(0, x - cont.width() - offset.left) + Math.min(0, x - offset.left);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlist.scroll.moveX = x == 0 ? 0 : x * opts.scrollSpeed / Math.abs(x);\n\t\t\t\t\tlist.scroll.moveY = y == 0 ? 0 : y * opts.scrollSpeed / Math.abs(y);\n\n\t\t\t\t\t//move draggedItem to new mouse cursor location\n\t\t\t\t\tthis.draggedItem.css({ top: top, left: left });\n\t\t\t\t},\n\n\t\t\t\t//if scroll container is a div allow mouse wheel to scroll div instead of window when mouse is hovering over\n\t\t\t\twheel: function(e) {\n\t\t\t\t\tif (($.browser.safari || $.browser.mozilla) && list && opts.scrollContainer != window) {\n\t\t\t\t\t\tvar cont = $(opts.scrollContainer);\n\t\t\t\t\t\tvar offset = cont.offset();\n\t\t\t\t\t\tif (e.pageX > offset.left && e.pageX < offset.left + cont.width() && e.pageY > offset.top && e.pageY < offset.top + cont.height()) {\n\t\t\t\t\t\t\tvar delta = e.detail ? e.detail * 5 : e.wheelDelta / -2;\n\t\t\t\t\t\t\tcont.scrollTop(cont.scrollTop() + delta);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t//build a table recording all the positions of the moveable list items\n\t\t\t\tbuildPositionTable: function() {\n\t\t\t\t\tvar pos = [];\n\t\t\t\t\tthis.getItems().not([list.draggedItem[0], list.placeHolderItem[0]]).each(function(i) {\n\t\t\t\t\t\tvar loc = $(this).offset();\n\t\t\t\t\t\tloc.right = loc.left + $(this).outerWidth();\n\t\t\t\t\t\tloc.bottom = loc.top + $(this).outerHeight();\n\t\t\t\t\t\tloc.elm = this;\n\t\t\t\t\t\tpos[i] = loc;\n\t\t\t\t\t});\n\t\t\t\t\tthis.pos = pos;\n\t\t\t\t},\n\n\t\t\t\tdropItem: function() {\n\t\t\t\t\tif (list.draggedItem == null)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t//list.draggedItem.attr(\"style\", \"\") doesn't work on IE8 and jQuery 1.5 or lower\n\t\t\t\t\t//list.draggedItem.removeAttr(\"style\") doesn't work on chrome and jQuery 1.6 (works jQuery 1.5 or lower)\n\t\t\t\t\tvar orig = list.draggedItem.attr(\"data-origstyle\");\n\t\t\t\t\tlist.draggedItem.attr(\"style\", orig);\n\t\t\t\t\tif (orig == \"\")\n\t\t\t\t\t\tlist.draggedItem.removeAttr(\"style\");\n\t\t\t\t\tlist.draggedItem.removeAttr(\"data-origstyle\");\n\n\t\t\t\t\tlist.styleDragHandlers(true);\n\n\t\t\t\t\tlist.placeHolderItem.before(list.draggedItem);\n\t\t\t\t\tlist.placeHolderItem.remove();\n\n\t\t\t\t\t$(\"[data-droptarget], .dragSortItem\").remove();\n\n\t\t\t\t\twindow.clearInterval(list.scroll.scrollY);\n\t\t\t\t\twindow.clearInterval(list.scroll.scrollX);\n\n\t\t\t\t\t//if position changed call dragEnd\n\t\t\t\t\tif (list.draggedItem.attr(\"data-origpos\") != $(lists).index(list) + \"-\" + $(list.container).children().index(list.draggedItem))\n\t\t\t\t\t\tif (opts.dragEnd.apply(list.draggedItem) == false) { //if dragEnd returns false revert order\n\t\t\t\t\t\t\tvar pos = list.draggedItem.attr(\"data-origpos\").split('-');\n\t\t\t\t\t\t\tvar nextItem = $(lists[pos[0]].container).children().not(list.draggedItem).eq(pos[1]);\n\t\t\t\t\t\t\tif (nextItem.size() > 0)\n\t\t\t\t\t\t\t\tnextItem.before(list.draggedItem);\n\t\t\t\t\t\t\telse if (pos[1] == 0) //was the only item in list\n\t\t\t\t\t\t\t\t$(lists[pos[0]].container).prepend(list.draggedItem);\n\t\t\t\t\t\t\telse //was the last item in list\n\t\t\t\t\t\t\t\t$(lists[pos[0]].container).append(list.draggedItem);\n\t\t\t\t\t\t}\n\t\t\t\t\tlist.draggedItem.removeAttr(\"data-origpos\");\n\n\t\t\t\t\tlist.draggedItem = null;\n\t\t\t\t\t$(document).unbind(\"mousemove\", list.swapItems);\n\t\t\t\t\t$(document).unbind(\"mouseup\", list.dropItem);\n\t\t\t\t\tif (opts.scrollContainer != window)\n\t\t\t\t\t\t$(window).unbind(\"DOMMouseScroll mousewheel\", list.wheel);\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t//swap the draggedItem (represented visually by placeholder) with the list item the it has been dragged on top of\n\t\t\t\tswapItems: function(e) {\n\t\t\t\t\tif (list.draggedItem == null)\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t//move draggedItem to mouse location\n\t\t\t\t\tlist.setPos(e.pageX, e.pageY);\n\n\t\t\t\t\t//retrieve list and item position mouse cursor is over\n\t\t\t\t\tvar ei = list.findPos(e.pageX, e.pageY);\n\t\t\t\t\tvar nlist = list;\n\t\t\t\t\tfor (var i = 0; ei == -1 && opts.dragBetween && i < lists.length; i++) {\n\t\t\t\t\t\tei = lists[i].findPos(e.pageX, e.pageY);\n\t\t\t\t\t\tnlist = lists[i];\n\t\t\t\t\t}\n\n\t\t\t\t\t//if not over another moveable list item return\n\t\t\t\t\tif (ei == -1)\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t//save fixed items locations\n\t\t\t\t\tvar children = function() { return $(nlist.container).children().not(nlist.draggedItem); };\n\t\t\t\t\tvar fixed = children().not(opts.itemSelector).each(function(i) { this.idx = children().index(this); });\n\n\t\t\t\t\t//if moving draggedItem up or left place placeHolder before list item the dragged item is hovering over otherwise place it after\n\t\t\t\t\tif (lastPos == null || lastPos.top > list.draggedItem.offset().top || lastPos.left > list.draggedItem.offset().left)\n\t\t\t\t\t\t$(nlist.pos[ei].elm).before(list.placeHolderItem);\n\t\t\t\t\telse\n\t\t\t\t\t\t$(nlist.pos[ei].elm).after(list.placeHolderItem);\n\n\t\t\t\t\t//restore fixed items location\n\t\t\t\t\tfixed.each(function() {\n\t\t\t\t\t\tvar elm = children().eq(this.idx).get(0);\n\t\t\t\t\t\tif (this != elm && children().index(this) < this.idx)\n\t\t\t\t\t\t\t$(this).insertAfter(elm);\n\t\t\t\t\t\telse if (this != elm)\n\t\t\t\t\t\t\t$(this).insertBefore(elm);\n\t\t\t\t\t});\n\n\t\t\t\t\t//misc\n\t\t\t\t\t$(lists).each(function(i, l) { l.createDropTargets(); l.buildPositionTable(); });\n\t\t\t\t\tlastPos = list.draggedItem.offset();\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t//returns the index of the list item the mouse is over\n\t\t\t\tfindPos: function(x, y) {\n\t\t\t\t\tfor (var i = 0; i < this.pos.length; i++) {\n\t\t\t\t\t\tif (this.pos[i].left < x && this.pos[i].right > x && this.pos[i].top < y && this.pos[i].bottom > y)\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t},\n\n\t\t\t\t//create drop targets which are placeholders at the end of other lists to allow dragging straight to the last position\n\t\t\t\tcreateDropTargets: function() {\n\t\t\t\t\tif (!opts.dragBetween)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t$(lists).each(function() {\n\t\t\t\t\t\tvar ph = $(this.container).find(\"[data-placeholder]\");\n\t\t\t\t\t\tvar dt = $(this.container).find(\"[data-droptarget]\");\n\t\t\t\t\t\tif (ph.size() > 0 && dt.size() > 0)\n\t\t\t\t\t\t\tdt.remove();\n\t\t\t\t\t\telse if (ph.size() == 0 && dt.size() == 0) {\n\t\t\t\t\t\t\tif (opts.tagName == \"td\")\n\t\t\t\t\t\t\t\t$(opts.placeHolderTemplate).attr(\"data-droptarget\", true).appendTo(this.container);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t//list.placeHolderItem.clone().removeAttr(\"data-placeholder\") crashes in IE7 and jquery 1.5.1 (doesn't in jquery 1.4.2 or IE8)\n\t\t\t\t\t\t\t\t$(this.container).append(list.placeHolderItem.removeAttr(\"data-placeholder\").clone().attr(\"data-droptarget\", true));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlist.placeHolderItem.attr(\"data-placeholder\", true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tnewList.init();\n\t\t\tlists.push(newList);\n\t\t});\n\n\t\treturn this;\n\t};\n\n\t$.fn.dragsort.defaults = {\n\t\titemSelector: \"\",\n\t\tdragSelector: \"\",\n\t\tdragSelectorExclude: \"input, textarea\",\n\t\tdragStart: function () { },\n\t\tdragEnd: function() { },\n\t\tdragBetween: false,\n\t\tplaceHolderTemplate: \"\",\n\t\tscrollContainer: window,\n\t\tscrollSpeed: 5\n\t};\n\n})(jQuery);\n// 文件上传插件(Bootstrap.Huploadify v2.1)\n;(function($) {\n    $.fn.Huploadify = function(opts) {\n        var itemTemp = '<div id=\"${fileID}\" class=\"uploadify-queue-item\"><div class=\"uploadify-progress\"><div class=\"uploadify-progress-bar\"></div></div><span class=\"up_filename\">${fileName}</span><span class=\"uploadbtn\">上传</span><span class=\"delfilebtn\">删除</span></div>';\n        var defaults = {\n            fileTypeExts: \"*.*\",\n            uploader: \"\",\n            auto: true,\n            method: \"post\",\n            multi: false,\n            formData: {},\n            fileObjName: \"file\",\n            fileSizeLimit: 2048,\n            showUploadedPercent: true,\n            showUploadedSize: false,\n            buttonText: \"选择文件\",\n            removeTimeout: 1000,\n            itemTemplate: itemTemp,\n            breakPoints: false,\n            fileSplitSize: 1024 * 1024,\n            getUploadedSize: null,\n            saveUploadedSize: null,\n            saveInfoLocal: false,\n            onUploadStart: null,\n            onUploadSuccess: null,\n            onUploadComplete: null,\n            onUploadError: null,\n            onInit: null,\n            onCancel: null,\n            onSelect: null\n        };\n        var option = $.extend(defaults, opts);\n        var formatFileSize = function(size, byKB) {\n            if (size > 1024 * 1024 && !byKB) {\n                size = (Math.round(size * 100 / (1024 * 1024)) / 100).toString() + \"MB\"\n            } else {\n                size = (Math.round(size * 100 / 1024) / 100).toString() + \"KB\"\n            }\n            return size\n        };\n        var getFile = function(index, files) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].index == index) {\n                    return files[i]\n                }\n            }\n            return false\n        };\n        var getFileTypes = function(str) {\n            var result = [];\n            var arr1 = str.split(\";\");\n            for (var i = 0, len = arr1.length; i < len; i++) {\n                result.push(arr1[i].split(\".\").pop())\n            }\n            return result\n        };\n        var mimetypeMap = {\n            zip: [\"application/x-zip-compressed\"],\n            jpg: [\"image/jpeg\"],\n            png: [\"image/png\"],\n            gif: [\"image/gif\"],\n            doc: [\"application/msword\"],\n            xls: [\"application/msexcel\"],\n            docx: [\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"],\n            xlsx: [\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"],\n            ppt: [\"application/vnd.ms-powerpoint \"],\n            pptx: [\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"],\n            mp3: [\"audio/mp3\"],\n            mp4: [\"video/mp4\"],\n            pdf: [\"application/pdf\"]\n        };\n        var getMimetype = function(name) {\n            return mimetypeMap[name]\n        };\n        var getAcceptString = function(str) {\n            var types = getFileTypes(str);\n            var result = [];\n            for (var i = 0, len = types.length; i < len; i++) {\n                var mime = getMimetype(types[i]);\n                if (mime) {\n                    result.push(mime)\n                }\n            }\n            return result.join(\",\")\n        };\n        var sendBlob = function(url, xhr, file, formdata) {\n            xhr.open(option.method, url, true);\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            var fd = new FormData();\n            fd.append(option.fileObjName, file);\n            if (formdata) {\n                for (key in formdata) {\n                    fd.append(key, formdata[key])\n                }\n            }\n            xhr.send(fd)\n        };\n        var fileObj = null;\n        this.each(function() {\n            var _this = $(this);\n            var instanceNumber = $(\".uploadify\").length + 1;\n            var inputStr = '<input id=\"select_btn_' + instanceNumber + '\" class=\"selectbtn\" style=\"display:none;\" type=\"file\" name=\"fileselect[]\"';\n            inputStr += option.multi ? \" multiple\" : \"\";\n            inputStr += ' accept=\"';\n            inputStr += getAcceptString(option.fileTypeExts);\n            inputStr += '\"/>';\n            inputStr += '<a id=\"file_upload_' + instanceNumber + '-button\" href=\"javascript:void(0)\" class=\"uploadify-button btn btn-primary\">';\n            inputStr += option.buttonText;\n            inputStr += \"</a>\";\n            var uploadFileListStr = '<div id=\"file_upload_' + instanceNumber + '-queue\" class=\"uploadify-queue\"></div>';\n            _this.append(inputStr + uploadFileListStr);\n            fileObj = {\n                uploadAllowed: true,\n                fileInput: _this.find(\".selectbtn\"),\n                uploadFileList: _this.find(\".uploadify-queue\"),\n                container: _this,\n                url: option.uploader,\n                fileFilter: [],\n                uploadOver: false,\n                filter: function(files) {\n                    var arr = [];\n                    var typeArray = getFileTypes(option.fileTypeExts);\n                    if (typeArray.length > 0) {\n                        for (var i = 0, len = files.length; i < len; i++) {\n                            var thisFile = files[i];\n                            if (parseInt(formatFileSize(thisFile.size, true)) > option.fileSizeLimit) {\n                                alert(\"文件\" + thisFile.name + \"大小超出限制！\");\n                                continue\n                            }\n                            if ($.inArray(thisFile.name.split(\".\").pop().toLowerCase(), typeArray) >= 0 || $.inArray(\"*\", typeArray) >= 0) {\n                                arr.push(thisFile)\n                            } else {\n                                alert(\"文件\" + thisFile.name + \"类型不允许！\")\n                            }\n                        }\n                    }\n                    return arr\n                },\n                funSelect: function(files) {\n                    for (var i = 0, len = files.length; i < len; i++) {\n                        var file = files[i];\n                        var $html = $(option.itemTemplate.replace(/\\${fileID}/g, \"fileupload_\" + instanceNumber + \"_\" + file.index).replace(/\\${fileName}/g, file.name).replace(/\\${fileSize}/g, formatFileSize(file.size)).replace(/\\${instanceID}/g, _this.attr(\"id\")));\n                        if (option.auto) {\n                            $html.find(\".uploadbtn\").remove()\n                        }\n                        var initWidth = 0,\n                            initFileSize = \"0KB\",\n                            initUppercent = \"0%\";\n                        if (option.breakPoints) {\n                            var uploadedSize = this.funGetUploadedSize(file);\n                            initWidth = (uploadedSize / file.size * 100) + \"%\";\n                            initFileSize = formatFileSize(uploadedSize);\n                            initUppercent = (uploadedSize / file.size * 100).toFixed(2) + \"%\";\n                            $html.find(\".uploadify-progress-bar\").css(\"width\", initWidth)\n                        }\n                        this.uploadFileList.append($html);\n                        if (option.showUploadedSize) {\n                            var num = '<span class=\"progressnum\"><span class=\"uploadedsize\">' + initFileSize + '</span>/<span class=\"totalsize\">${fileSize}</span></span>'.replace(/\\${fileSize}/g, formatFileSize(file.size));\n                            $html.find(\".uploadify-progress\").after(num)\n                        }\n                        if (option.showUploadedPercent) {\n                            var percentText = '<span class=\"up_percent\">' + initUppercent + \"</span>\";\n                            $html.find(\".uploadify-progress\").after(percentText)\n                        }\n                        option.onSelect && option.onSelect(files);\n                        if (option.auto) {\n                            this.funUploadFile(file)\n                        } else {\n                            $html.find(\".uploadbtn\").on(\"click\", (function(file) {\n                                return function() {\n                                    fileObj.funUploadFile(file)\n                                }\n                            })(file))\n                        }\n                        $html.find(\".delfilebtn\").on(\"click\", (function(file) {\n                            return function() {\n                                fileObj.funDeleteFile(file.index)\n                            }\n                        })(file))\n                    }\n                },\n                onProgress: function(file, loaded, total) {\n                    var eleProgress = _this.find(\"#fileupload_\" + instanceNumber + \"_\" + file.index + \" .uploadify-progress\");\n                    var thisLoaded = loaded;\n                    var lastLoaded = eleProgress.attr(\"lastLoaded\") || 0;\n                    loaded -= parseInt(lastLoaded);\n                    var progressBar = eleProgress.children(\".uploadify-progress-bar\");\n                    var oldWidth = option.breakPoints ? parseFloat(progressBar.get(0).style.width || 0) : 0;\n                    var percent = (loaded / total * 100 + oldWidth).toFixed(2);\n                    var percentText = percent > 100 ? \"99.99%\" : percent + \"%\";\n                    if (option.showUploadedSize) {\n                        eleProgress.nextAll(\".progressnum .uploadedsize\").text(formatFileSize(loaded));\n                        eleProgress.nextAll(\".progressnum .totalsize\").text(formatFileSize(total))\n                    }\n                    if (option.showUploadedPercent) {\n                        eleProgress.nextAll(\".up_percent\").text(percentText)\n                    }\n                    progressBar.css(\"width\", percentText);\n                    if (thisLoaded < option.fileSplitSize) {\n                        eleProgress.attr(\"lastLoaded\", thisLoaded)\n                    } else {\n                        eleProgress.removeAttr(\"lastLoaded\")\n                    }\n                },\n                funGetProgressWidth: function(index) {\n                    var eleProgressBar = _this.find(\"#fileupload_\" + instanceNumber + \"_\" + index + \" .uploadify-progress-bar\");\n                    return eleProgressBar.get(0).style.width || \"\"\n                },\n                funGetUploadedSize: function(file) {\n                    if (option.getUploadedSize) {\n                        return option.getUploadedSize(file)\n                    } else {\n                        if (option.saveInfoLocal) {\n                            return parseInt(localStorage.getItem(file.name)) || 0\n                        }\n                    }\n                },\n                funSaveUploadedSize: function(file, value) {\n                    if (option.saveUploadedSize) {\n                        option.saveUploadedSize(file, value)\n                    } else {\n                        if (option.saveInfoLocal) {\n                            localStorage.setItem(file.name, value)\n                        }\n                    }\n                },\n                funGetFiles: function(e) {\n                    var files = e.target.files;\n                    files = this.filter(files);\n                    for (var i = 0, len = files.length; i < len; i++) {\n                        this.fileFilter.push(files[i])\n                    }\n                    this.funDealFiles(files);\n                    return this\n                },\n                funDealFiles: function(files) {\n                    var fileCount = _this.find(\".uploadify-queue .uploadify-queue-item\").length;\n                    for (var i = 0, len = files.length; i < len; i++) {\n                        files[i].index = ++fileCount;\n                        files[i].id = \"fileupload_\" + instanceNumber + \"_\" + files[i].index\n                    }\n                    this.funSelect(files);\n                    return this\n                },\n                funDeleteFile: function(index) {\n                    for (var i = 0, len = this.fileFilter.length; i < len; i++) {\n                        var file = this.fileFilter[i];\n                        if (file.index == index) {\n                            if (option.breakPoints) {\n                                this.uploadAllowed = false\n                            }\n                            this.fileFilter.splice(i, 1);\n                            _this.find(\"#fileupload_\" + instanceNumber + \"_\" + index).fadeOut();\n                            fileObj.fileInput.val(\"\");\n                            option.onCancel && option.onCancel(file);\n                            break\n                        }\n                    }\n                    return this\n                },\n                funUploadFile: function(file) {\n                    var xhr = false;\n                    var originalFile = file;\n                    var thisfile = _this.find(\"#fileupload_\" + instanceNumber + \"_\" + file.index);\n                    var regulateView = function() {\n                        if (fileObj.uploadOver) {\n                            thisfile.find(\".uploadify-progress-bar\").css(\"width\", \"100%\");\n                            option.showUploadedSize && thisfile.find(\".uploadedsize\").text(thisfile.find(\".totalsize\").text());\n                            option.showUploadedPercent && thisfile.find(\".up_percent\").text(\"100%\")\n                        }\n                    };\n                    try {\n                        xhr = new XMLHttpRequest()\n                    } catch (e) {\n                        xhr = ActiveXobject(\"Msxml12.XMLHTTP\")\n                    }\n                    if (option.breakPoints) {\n                        var fileName = file.name,\n                            fileId = file.id,\n                            fileIndex = file.index,\n                            fileSize = file.size;\n                        var uploadedSize = parseInt(this.funGetUploadedSize(originalFile));\n                        file = originalFile.slice(uploadedSize, uploadedSize + option.fileSplitSize);\n                        file.name = fileName;\n                        file.id = fileId;\n                        file.index = fileIndex\n                    }\n                    if (xhr.upload && uploadedSize !== false) {\n                        xhr.upload.addEventListener(\"progress\", function(e) {\n                            fileObj.onProgress(file, e.loaded, originalFile.size)\n                        }, false);\n                        xhr.onreadystatechange = function(e) {\n                            if (xhr.readyState == 4) {\n                                fileObj.uploadOver = true;\n                                if (xhr.status == 200) {\n                                    var returnData = JSON.parse(xhr.responseText);\n                                    if (returnData.success) {\n                                        if (option.breakPoints) {\n                                            uploadedSize += option.fileSplitSize;\n                                            fileObj.funSaveUploadedSize(originalFile, uploadedSize);\n                                            if (uploadedSize < fileSize) {\n                                                fileObj.uploadOver = false;\n                                                if (fileObj.uploadAllowed) {\n                                                    file = originalFile.slice(uploadedSize, uploadedSize + option.fileSplitSize);\n                                                    file.name = fileName;\n                                                    file.id = fileId;\n                                                    file.index = fileIndex;\n                                                    file.size = fileSize;\n                                                    sendBlob(fileObj.url, xhr, file, option.formData)\n                                                }\n                                            } else {\n                                                regulateView()\n                                            }\n                                        } else {\n                                            regulateView()\n                                        }\n                                    }\n                                    if (fileObj.uploadOver) {\n                                        option.onUploadSuccess && option.onUploadSuccess(originalFile, xhr.responseText);\n                                        setTimeout(function() {\n                                            _this.find(\"#fileupload_\" + instanceNumber + \"_\" + originalFile.index).fadeOut()\n                                        }, option.removeTimeout)\n                                    }\n                                } else {\n                                    fileObj.uploadOver && option.onUploadError && option.onUploadError(originalFile, xhr.responseText)\n                                }\n                                if (fileObj.uploadOver) {\n                                    option.onUploadComplete && option.onUploadComplete(originalFile, xhr.responseText);\n                                    fileObj.fileInput.val(\"\")\n                                }\n                            }\n                        };\n                        option.onUploadStart && option.onUploadStart();\n                        option.formData.fileName = originalFile.name;\n                        option.formData.lastModifiedDate = originalFile.lastModifiedDate.getTime();\n                        fileObj.uploadAllowed = true;\n                        sendBlob(this.url, xhr, file, option.formData)\n                    }\n                },\n                init: function() {\n                    if (this.fileInput.length > 0) {\n                        this.fileInput.change(function(e) {\n                            fileObj.funGetFiles(e)\n                        })\n                    }\n                    _this.find(\".uploadify-button\").on(\"click\", function() {\n                        _this.find(\".selectbtn\").trigger(\"click\")\n                    });\n                    option.onInit && option.onInit()\n                }\n            };\n            fileObj.init()\n        });\n        var returnObj = {\n            stop: function() {\n                fileObj.uploadOver = false;\n                fileObj.uploadAllowed = false\n            },\n            upload: function(fileIndex) {\n                if (fileIndex === \"*\") {\n                    for (var i = 0, len = fileObj.fileFilter.length; i < len; i++) {\n                        fileObj.funUploadFile(fileObj.fileFilter[i])\n                    }\n                } else {\n                    var file = getFile(fileIndex, fileObj.fileFilter);\n                    file && fileObj.funUploadFile(file)\n                }\n            },\n            cancel: function(fileIndex) {\n                if (fileIndex === \"*\") {\n                    for (var i = 0, len = fileObj.fileFilter.length; i < len; i++) {\n                        fileObj.funDeleteFile(++i)\n                    }\n                } else {\n                    fileObj.funDeleteFile(fileIndex)\n                }\n            },\n            disable: function(instanceID) {\n                var parent = instanceID ? $(\"file_upload_\" + instanceID + \"-button\") : $(\"body\");\n                parent.find(\".uploadify-button\").css(\"background-color\", \"#888\").off(\"click\")\n            },\n            ennable: function(instanceID) {\n                var parent = instanceID ? $(\"file_upload_\" + instanceID + \"-button\") : $(\"body\");\n                parent.find(\".uploadify-button\").css(\"background-color\", \"#707070\").on(\"click\", function() {\n                    parent.find(\".selectbtn\").trigger(\"click\")\n                })\n            },\n            destroy: function() {\n                fileObj.container.html(\"\")\n            },\n            settings: function(name, value) {\n                if (arguments.length == 1) {\n                    return option[name]\n                } else {\n                    if (name == \"formData\") {\n                        option.formData = $.extend(option.formData, value)\n                    } else {\n                        option[name] = value\n                    }\n                }\n            },\n            Huploadify: function() {\n                var method = arguments[0];\n                if (method in this) {\n                    Array.prototype.splice.call(arguments, 0, 1);\n                    this[method].apply(this[method], arguments)\n                }\n            }\n        };\n        return returnObj\n    }\n})(jQuery);\n\n(function($) {\n    $.fn.iconpicker = function(options) {\n\n        var self = this;\n        this.buttonSize = 'sm';\n        this.columns = 10;\n        this.height = 400;\n        this.extend(options);\n        this.open = false;\n        this.allowedSizes = [\"sm\", \"lg\", \"2x\", \"3x\", \"4x\", \"5x\"];\n\n        //Templates\n        this.templates = {\n            filter: \"<div class='row'><div class='col-xs-12 form-group'><div class='icon-filter-box input-group'><span class='input-group-addon'>Filter: </span><input type='text' class='icon-filter form-control'></div></div></div>\",\n            sizes: \"<div class='row'><div class='col-xs-12 btn-group'><a class='btn btn-default' href='#' data-size='sm'>SM</a><a class='btn btn-default' href='#' data-size='lg'>LG</a><a class='btn btn-default' href='#' data-size='2x'>2X</a><a class='btn btn-default' href='#' data-size='3x'>3X</a><a class='btn btn-default' href='#' data-size='4x'>4X</a><a class='btn btn-default' href='#' data-size='5x'>5X</a></div></div>\",\n        };\n\n        //Icon List\n        this.icons = options.icons;\n\n        //Bind open menu function to element click\n        $(this).on(\"click\", function(e) {\n            self.$el = $(e.currentTarget);\n            if ($(e.currentTarget).find(\".icon-menu\").length) {\n                self.closeMenu();\n            } else {\n                self.openMenu();\n            }\n        });\n\n        //Bind event to icon click\n        $(this).on(\"click\", \".icon\", function(e) {\n            e.stopPropagation();\n            var icon = $(e.currentTarget).data(\"icon\");\n            if (self.clickCallback !== undefined) {\n                self.clickCallback(icon);\n            } else {\n                self.$el.find(\"> .form-control\").val(icon).focus().select();\n            }\n            self.closeMenu();\n        });\n\n        //Stop menu from closing if click in menu\n        $(this).on(\"click\", \".icon-menu\", function(e) {\n            e.stopPropagation();\n        });\n\n        //Bind event to filter input\n        $(this).on(\"keyup\", \".icon-filter\", function(e) {\n            var str = $(e.target).val();\n            self.doFilter(str);\n        });\n\n        //Bind event to size menu\n        $(this).on(\"click\", \".btn-group .btn\", function(e) {\n            var size = ($(e.currentTarget).data('size') == 'sm') ? '' : 'fa-' + $(e.currentTarget).data('size') ;\n            self.$sizeSelector.find('.btn').removeClass(\"active\");\n            $(e.currentTarget).addClass(\"active\");\n            self.$container.find('i').removeClass('fa-lg fa-2x fa-3x fa-4x fa-5x').addClass(size);\n            self.resize();\n        });\n\n        //Create html element\n        this.createMenu = function() {\n            this.icons = eval(this.icons);\n            this.$menu = $(\"<div>\", {class: \"icon-menu\", style: \"height:\" + this.height + \"px\"});\n            if (this.filter !== false) {\n                this.$filter = $(this.templates.filter);\n                this.$menu.append(this.$filter);\n            }\n            if (this.sizeSelector !== false) {\n                this.$sizeSelector = $(this.templates.sizes);\n                this.$sizeSelector.find('a[data-size=' + this.buttonSize + ']').addClass('active');\n                this.$menu.append(this.$sizeSelector);\n            }\n            this.$container = $(\"<div>\", {class: \"icon-container\", style: \"height:\" + this.innerHeight + \"px\"});\n            for (var i in this.icons) {\n                var size = ($.inArray(this.buttonSize, this.allowedSizes) > -1) ? \" fa-\" + this.buttonSize : \"\" ;\n                var button = $(\"<a>\", {class: \"icon\", title: this.icons[i].name, \"data-icon\": this.icons[i].selector, \"data-filter\": this.icons[i].filter});\n                button.html(\"<i class='fa fa-fw \" + this.icons[i].selector + size + \"'></i>\");\n                this.$container.append(button);\n            }\n            this.$menu.append(this.$container);\n        }\n\n        //Open Menu\n        this.openMenu = function(e) {\n            this.open = true;\n            $(this.$el).append(this.$menu);\n            this.resize();\n            this.$menu.find('.icon-filter').focus();\n        }\n\n        //Close Menu\n        this.closeMenu = function() {\n            this.open = false;\n            this.$menu.detach();\n        }\n\n        //Resize menu\n        this.resize = function(columns) {\n            this.scrollbarWidth = this.scrollbarWidth || this.getScrollbarWidth();\n            var width = Math.ceil($('.icon').outerWidth(true) * this.columns + this.scrollbarWidth) + \"px\";\n            var height = this.height - (parseInt(this.$menu.css('padding-top')) * 2);\n                height -= (this.filter !== false) ? this.$filter.outerHeight(true) : 0 ;\n                height -= (this.sizeSelector !== false) ? this.$sizeSelector.outerHeight(true) : 0 ;\n            this.$container.css({width: width, height: height});\n\n        }\n\n        //Filter function\n        this.doFilter = function(str) {\n            if (str !== \"\") {\n                $(this).find(\"a.icon[data-filter*='\" + str + \"']\").show();\n                $(this).find(\"a.icon:not([data-filter*='\" + str + \"'])\").hide();\n            } else {\n                $(this).find(\"a.icon\").show();\n            }\n        }\n\n        //Uppercase words function\n        this.ucwords = function(str) {\n            return (str.replace(/-/g, ' ') + '')\n                .replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1) {\n                    return $1.toUpperCase();\n            });\n        }\n\n        //Object sorting function\n        this.sortObj = function(obj) {\n            var key,\n                tempArry = [],\n                i,\n                tempObj = {};\n            for ( key in obj ) {\n                tempArry.push(key);\n            }\n            tempArry.sort(\n                function(a, b) {\n                    return a.toLowerCase().localeCompare( b.toLowerCase() );\n                }\n            );\n            for ( i = 0; i < tempArry.length; i++ ) {\n                tempObj[ tempArry[i] ] = obj[ tempArry[i] ];\n            }\n            return tempObj;\n        }\n\n        //Scrollbar width\n        this.getScrollbarWidth = function() {\n            var $inner = $('<div style=\"width: 100%; height:200px;\">test</div>'),\n                $outer = $('<div style=\"width:200px;height:150px; position: absolute; top: 0; left: 0; visibility: hidden; overflow:hidden;\"></div>').append($inner),\n                inner = $inner[0],\n                outer = $outer[0];\n            $('body').append(outer);\n            var width1 = inner.offsetWidth;\n            $outer.css('overflow', 'scroll');\n            var width2 = outer.clientWidth;\n            $outer.remove();\n            return (width1 - width2);\n        }\n\n        self.createMenu();\n\n        return this;\n    };\n}( jQuery ));"],"sourceRoot":"/source/"}